<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>H5文件上传(有问题)</title>
    <!--缓存控制-->
    <!--<meta http-equiv="Cache-Control" content="no-cache">-->
    <label>
        <input id='uploadFileBtn' type='file' />
    </label>
</head>
<body>

<script>
   function uploadUserFile(event) {
    var files = event.target.files;
    var formData = new FormData();
    var request = new XMLHttpRequest();

    for (var i = 0, len = files.length; i < len; i++) {
      formData.append('userUploadFile', files[i]);
    }

	console.log(formData);

    request.open('POST', 'http://jsonplaceholder.typicode.com/posts');
    request.send(formData);

    request.onload = function(event) {
      var oResponse = JSON.parse(event.target.response);
	  console.log(oResponse);
      // do something
    }
  }

  document.querySelector('#uploadFileBtn').addEventListener('change', uploadUserFile, false);
</script>

<div class="offline-ui offline-ui-up"><div class="offline-ui-content"></div><a href="http://note.youdao.com/publicshare/?id=d5f958810f61f372a47ece755aa18fb4&amp;type=note" class="offline-ui-retry"></a></div><audio controls="controls" style="display: none;"></audio></body><style type="text/css">#yddContainer{display:block;font-family:Microsoft YaHei;position:relative;width:100%;height:100%;top:-4px;left:-4px;font-size:12px;border:1px solid}#yddTop{display:block;height:22px}#yddTopBorderlr{display:block;position:static;height:17px;padding:2px 28px;line-height:17px;font-size:12px;color:#5079bb;font-weight:bold;border-style:none solid;border-width:1px}#yddTopBorderlr .ydd-sp{position:absolute;top:2px;height:0;overflow:hidden}.ydd-icon{left:5px;width:17px;padding:0px 0px 0px 0px;padding-top:17px;background-position:-16px -44px}.ydd-close{right:5px;width:16px;padding-top:16px;background-position:left -44px}#yddKeyTitle{float:left;text-decoration:none}#yddMiddle{display:block;margin-bottom:10px}.ydd-tabs{display:block;margin:5px 0;padding:0 5px;height:18px;border-bottom:1px solid}.ydd-tab{display:block;float:left;height:18px;margin:0 5px -1px 0;padding:0 4px;line-height:18px;border:1px solid;border-bottom:none}.ydd-trans-container{display:block;line-height:160%}.ydd-trans-container a{text-decoration:none;}#yddBottom{position:absolute;bottom:0;left:0;width:100%;height:22px;line-height:22px;overflow:hidden;background-position:left -22px}.ydd-padding010{padding:0 10px}#yddWrapper{color:#252525;z-index:10001;background:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ab20.png);}#yddContainer{background:#fff;border-color:#4b7598}#yddTopBorderlr{border-color:#f0f8fc}#yddWrapper .ydd-sp{background-image:url(chrome-extension://eopjamdnofihpioajgfdikhhbobonhbb/ydd-sprite.png)}#yddWrapper a,#yddWrapper a:hover,#yddWrapper a:visited{color:#50799b}#yddWrapper .ydd-tabs{color:#959595}.ydd-tabs,.ydd-tab{background:#fff;border-color:#d5e7f3}#yddBottom{color:#363636}#yddWrapper{min-width:250px;max-width:400px;}</style></html>
